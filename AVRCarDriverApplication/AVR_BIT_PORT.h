/*---------------------------------------------------- 功能：      位操做AVR端口作者：      齐如峰使用说明：  单独操做某个端口时道先调用SetInPx(N) SetOutPx(N)            之后用ClrP1(N) SetP1(N) 做为输出的值最后修改时间：2012-08-07-----------------------------------------------------*/ #ifndef ATMEGA_BIT_PORT_H #define ATMEGA_BIT_PORT_H #define U8 unsigned char #define U16 unsigned int #define uint  unsigned int #define uchar unsigned char /****************************************************************宏定义通用八位管脚定位值，并且宏定义BIT9做为整个并行口的宏名****************************************************************/#define BIT0   0x01#define BIT1   0x02#define BIT2   0x04#define BIT3   0x08#define BIT4   0x10#define BIT5   0x20#define BIT6   0x40#define BIT7   0x80#define BIT9   0xff/*----------------IO bits Set/Clr-----------------------------宏定义各端口输出高电平和低电平的功能函数其中Set开头的表示输出高电平    Clr开头的表示输出低电平--------------------------------------------------------------*/#define ClrPA(n) PORTA&=(~n) #define SetPA(n) PORTA|=n #define ClrPB(n) PORTB&=(~n) #define SetPB(n) PORTB|=n #define ClrPC(n) PORTC&=(~n) #define SetPC(n) PORTC|=n #define ClrPD(n) PORTD&=(~n) #define SetPD(n) PORTD|=n #define ClrPE(n) PORTE&=(~n) #define SetPE(n) PORTE|=n #define ClrPF(n) PORTF&=(~n) #define SetPF(n) PORTF|=n /*--------------------IO bits Input/Output--------------------------设置IO口的输入输出-------------------------------------------------------------------*/#define SetInPA(n)    DDRA&=(~n) #define SetOutPA(n)   DDRA|=n #define SetInPB(n)    DDRB&=(~n) #define SetOutPB(n)   DDRB|=n #define SetInPC(n)    DDRC&=(~n) #define SetOutPC(n)   DDRC|=n #define SetInPD(n)    DDRD&=(~n) #define SetOutPD(n)   DDRD|=n #define SetInPE(n)    DDRE&=(~n) #define SetOutPE(n)   DDRE|=n #define SetInPF(n)    DDRF&=(~n) #define SetOutPF(n)   DDRF|=n /******************************************************************************检测输入的值******************************************************************************/#define PAInput(n) PINA&n?1:0 #define PBInput(n) PINB&n?1:0 #define PCInput(n) PINC&n?1:0 #define PDInput(n) PIND&n?1:0 #define PEInput(n) PINE&n?1:0 #define PFInput(n) PINF&n?1:0 //------------------------------------------------------------------------ //---------------------------------------------------------------------------- void Init_CLK(unsigned char nDco); #endif /*****************************************************************************使用时只需要把相应功能函数里的n换成BITx既可*****************************************************************************/